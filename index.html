<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SROI Calculator - ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ú‡∏•‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∏‡∏ô</title>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        :root {
            /* Bangkok University Colors */
            --color-primary: #1e3a8a;
            --color-primary-light: #3b82f6;
            --color-secondary: #f59e0b;
            --color-success: #10b981;
            --color-danger: #ef4444;
            --color-warning: #f59e0b;
            --color-info: #3b82f6;
            --color-light: #f8fafc;
            --color-dark: #1e293b;
            --color-border: #e2e8f0;
            --color-text: #334155;
            --color-text-light: #64748b;
            
            /* Spacing */
            --space-xs: 0.25rem;
            --space-sm: 0.5rem;
            --space-md: 1rem;
            --space-lg: 1.5rem;
            --space-xl: 2rem;
            --space-2xl: 3rem;
            
            /* Border radius */
            --radius-sm: 0.375rem;
            --radius-md: 0.5rem;
            --radius-lg: 0.75rem;
            
            /* Shadows */
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Sarabun', sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            color: var(--color-text);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--space-md);
        }

        .header {
            background: var(--color-primary);
            color: white;
            padding: var(--space-lg) 0;
            box-shadow: var(--shadow-lg);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: var(--space-md);
        }

        .header h1 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: var(--space-xs);
        }

        .header .subtitle {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .developer-credit {
            font-size: 0.8rem;
            opacity: 0.8;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-sm) var(--space-md);
            border: none;
            border-radius: var(--radius-md);
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            text-decoration: none;
            transition: all 0.2s ease;
            font-family: 'Sarabun', sans-serif;
        }

        .btn-primary {
            background: var(--color-primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--color-primary-light);
        }

        .btn-secondary {
            background: var(--color-light);
            color: var(--color-text);
            border: 1px solid var(--color-border);
        }

        .btn-secondary:hover {
            background: #e2e8f0;
        }

        .btn-danger {
            background: var(--color-danger);
            color: white;
        }

        .btn-danger:hover {
            background: #dc2626;
        }

        .btn-success {
            background: var(--color-success);
            color: white;
        }

        .btn-success:hover {
            background: #059669;
        }

        .login-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-md);
        }

        .login-card {
            background: white;
            padding: var(--space-2xl);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-lg);
            width: 100%;
            max-width: 450px;
            text-align: center;
        }

        .login-card h2 {
            color: var(--color-primary);
            margin-bottom: var(--space-lg);
            font-size: 1.8rem;
            font-weight: 600;
            font-family: 'Sarabun', sans-serif;
        }

        .form-group {
            margin-bottom: var(--space-md);
            text-align: left;
        }

        .form-label {
            display: block;
            margin-bottom: var(--space-sm);
            font-weight: 500;
            color: var(--color-text);
            font-family: 'Sarabun', sans-serif;
        }

        .form-control {
            width: 100%;
            padding: var(--space-sm) var(--space-md);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-md);
            font-size: 0.95rem;
            transition: border-color 0.2s ease;
            font-family: 'Sarabun', sans-serif;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(30, 58, 138, 0.1);
        }

        textarea.form-control {
            min-height: 100px;
            resize: vertical;
        }

        .btn-google {
            background: white;
            color: var(--color-text);
            border: 1px solid var(--color-border);
            width: 100%;
            justify-content: center;
            padding: var(--space-sm) var(--space-md);
            margin-top: var(--space-md);
            font-weight: 500;
        }

        .btn-google:hover {
            background: var(--color-light);
        }

        .divider {
            display: flex;
            align-items: center;
            text-align: center;
            margin: var(--space-lg) 0;
            color: var(--color-text-light);
        }

        .divider::before,
        .divider::after {
            content: '';
            flex: 1;
            border-bottom: 1px solid var(--color-border);
        }

        .divider span {
            padding: 0 var(--space-md);
            font-size: 0.9rem;
        }

        .toggle-form {
            margin-top: var(--space-lg);
            color: var(--color-text-light);
            font-size: 0.9rem;
        }

        .toggle-form a {
            color: var(--color-primary);
            text-decoration: none;
            font-weight: 500;
            cursor: pointer;
        }

        .toggle-form a:hover {
            text-decoration: underline;
        }

        /* Dashboard Styles */
        .dashboard-container {
            display: none;
            padding: var(--space-xl) 0;
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-xl);
        }

        .dashboard-title {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--color-primary);
        }

        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: var(--space-lg);
            margin-bottom: var(--space-xl);
        }

        .project-card {
            background: white;
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            box-shadow: var(--shadow-md);
            cursor: pointer;
            transition: all 0.2s ease;
            border: 2px solid transparent;
        }

        .project-card:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
            border-color: var(--color-primary);
        }

        .project-card-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: var(--space-md);
        }

        .project-card-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--color-primary);
            margin-bottom: var(--space-xs);
        }

        .project-card-meta {
            font-size: 0.85rem;
            color: var(--color-text-light);
        }

        .project-card-actions {
            display: flex;
            gap: var(--space-sm);
        }

        .project-card-progress {
            margin-top: var(--space-md);
            padding-top: var(--space-md);
            border-top: 1px solid var(--color-border);
        }

        .progress-label {
            font-size: 0.85rem;
            color: var(--color-text-light);
            margin-bottom: var(--space-xs);
        }

        .progress-bar {
            height: 8px;
            background: var(--color-light);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--color-success);
            transition: width 0.3s ease;
        }

        .new-project-card {
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-light) 100%);
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 200px;
            font-size: 1.1rem;
            font-weight: 500;
            cursor: pointer;
            position: relative;
            transition: all 0.3s ease;
        }

        .new-project-card:hover {
            border-color: var(--color-primary);
            transform: translateY(-4px);
            box-shadow: 0 12px 24px -6px rgba(30, 58, 138, 0.3);
        }

        .new-project-card:active {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px -4px rgba(30, 58, 138, 0.3);
        }

        .new-project-card * {
            pointer-events: none;
            user-select: none;
        }

        /* Main App */
        .main-app {
            display: none;
            padding: var(--space-xl) 0;
        }

        .app-card {
            background: white;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-lg);
            overflow: hidden;
        }

        .app-header {
            background: var(--color-primary);
            color: white;
            padding: var(--space-lg);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .app-header h2 {
            font-size: 1.4rem;
            font-weight: 600;
        }

        .steps-nav {
            display: flex;
            justify-content: space-between;
            padding: var(--space-lg);
            background: var(--color-light);
            border-bottom: 1px solid var(--color-border);
            overflow-x: auto;
            gap: var(--space-sm);
        }

        .step {
            flex: 1;
            min-width: 120px;
            text-align: center;
            padding: var(--space-sm);
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all 0.2s ease;
            border: 2px solid transparent;
        }

        .step:hover {
            background: white;
        }

        .step.active {
            background: var(--color-primary);
            color: white;
            border-color: var(--color-primary);
        }

        .step.completed {
            background: var(--color-success);
            color: white;
            border-color: var(--color-success);
        }

        .step.completed:hover {
            background: #059669;
        }

        .step-number {
            display: inline-block;
            width: 32px;
            height: 32px;
            line-height: 32px;
            border-radius: 50%;
            background: white;
            color: var(--color-primary);
            font-weight: 600;
            margin-bottom: var(--space-xs);
        }

        .step.active .step-number {
            background: white;
            color: var(--color-primary);
        }

        .step.completed .step-number {
            background: white;
            color: var(--color-success);
        }

        .step-title {
            font-size: 0.85rem;
            font-weight: 500;
        }

        .step-content {
            display: none;
            padding: var(--space-2xl);
        }

        .step-content.active {
            display: block;
        }

        .step-header {
            margin-bottom: var(--space-xl);
        }

        .step-title-main {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--color-primary);
            margin-bottom: var(--space-sm);
        }

        .step-description {
            color: var(--color-text-light);
            font-size: 1rem;
        }

        .section {
            background: var(--color-light);
            padding: var(--space-lg);
            border-radius: var(--radius-md);
            margin-bottom: var(--space-lg);
        }

        .section-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--color-primary);
            margin-bottom: var(--space-md);
        }

        .table-container {
            overflow-x: auto;
            margin-top: var(--space-md);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: var(--radius-md);
            overflow: hidden;
        }

        th {
            background: var(--color-primary);
            color: white;
            padding: var(--space-md);
            text-align: left;
            font-weight: 600;
        }

        td {
            padding: var(--space-md);
            border-bottom: 1px solid var(--color-border);
        }

        tr:last-child td {
            border-bottom: none;
        }

        tr:hover {
            background: var(--color-light);
        }

        .action-buttons {
            display: flex;
            gap: var(--space-md);
            margin-top: var(--space-xl);
            padding-top: var(--space-xl);
            border-top: 1px solid var(--color-border);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: var(--radius-lg);
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-lg);
        }

        .modal-header {
            padding: var(--space-lg);
            border-bottom: 1px solid var(--color-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--color-primary);
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 2rem;
            color: var(--color-text-light);
            cursor: pointer;
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-modal:hover {
            color: var(--color-danger);
        }

        .modal-body {
            padding: var(--space-lg);
        }

        .modal-footer {
            padding: var(--space-lg);
            border-top: 1px solid var(--color-border);
            display: flex;
            justify-content: flex-end;
            gap: var(--space-md);
        }

        .modal-form-group {
            margin-bottom: var(--space-lg);
        }

        .modal-form-group label {
            display: block;
            margin-bottom: var(--space-sm);
            font-weight: 500;
            color: var(--color-text);
        }

        .modal-form-group input,
        .modal-form-group select,
        .modal-form-group textarea {
            width: 100%;
            padding: var(--space-sm) var(--space-md);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-md);
            font-size: 0.95rem;
            font-family: 'Sarabun', sans-serif;
        }

        .modal-form-group small {
            display: block;
            margin-top: var(--space-xs);
            color: var(--color-text-light);
            font-size: 0.85rem;
        }

        .toast {
            position: fixed;
            bottom: 24px;
            right: 24px;
            background: white;
            padding: var(--space-md) var(--space-lg);
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-lg);
            z-index: 2000;
            display: none;
            align-items: center;
            gap: var(--space-md);
            border-left: 4px solid var(--color-success);
        }

        .toast.show {
            display: flex;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
            }
            to {
                transform: translateX(0);
            }
        }

        .chart-container {
            position: relative;
            height: 400px;
            margin: var(--space-lg) 0;
        }

        .result-card {
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-light) 100%);
            color: white;
            padding: var(--space-xl);
            border-radius: var(--radius-lg);
            text-align: center;
            margin: var(--space-lg) 0;
        }

        .result-value {
            font-size: 3rem;
            font-weight: 700;
            margin: var(--space-md) 0;
        }

        .result-label {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-md);
            margin: var(--space-lg) 0;
        }

        .stat-card {
            background: white;
            padding: var(--space-lg);
            border-radius: var(--radius-md);
            border-left: 4px solid var(--color-primary);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: var(--space-xs);
        }

        .stat-label {
            color: var(--color-text-light);
            font-size: 0.9rem;
        }

        .input-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-md);
            margin-bottom: var(--space-md);
        }

        .icon-btn {
            padding: var(--space-xs) var(--space-sm);
            font-size: 0.85rem;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.2rem;
            }

            .steps-nav {
                flex-direction: column;
            }

            .step {
                min-width: 100%;
            }

            .projects-grid {
                grid-template-columns: 1fr;
            }

            .action-buttons {
                flex-direction: column;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }
        }

        /* Loading spinner */
        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .back-to-dashboard {
            display: inline-flex;
            align-items: center;
            gap: var(--space-sm);
            color: white;
            text-decoration: none;
            padding: var(--space-sm) var(--space-md);
            border-radius: var(--radius-md);
            transition: background 0.2s ease;
        }

        .back-to-dashboard:hover {
            background: rgba(255, 255, 255, 0.1);
        }
    </style>
</head>
<body>
    <!-- Authentication Screen -->
    <div id="authScreen" class="login-container">
        <div class="login-card">
            <!-- Login Form -->
            <div id="loginForm">
                <h2>üéØ SROI Calculator</h2>
                <p style="margin-bottom: 24px; color: #64748b;">‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ú‡∏•‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∏‡∏ô</p>
                
                <div id="loginAlert"></div>
                
                <form onsubmit="handleLogin(event)">
                    <div class="form-group">
                        <label class="form-label">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
                        <input type="email" id="loginEmail" class="form-control" required placeholder="example@bu.ac.th">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
                        <input type="password" id="loginPassword" class="form-control" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                    </div>
                    
                    <button type="submit" class="btn btn-primary" style="width: 100%; justify-content: center; margin-top: 16px;">
                        üöÄ ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
                    </button>
                </form>
                
                <div class="divider">
                    <span>‡∏´‡∏£‡∏∑‡∏≠</span>
                </div>
                
                <button type="button" class="btn btn-google" onclick="handleGoogleSignIn()">
                    <svg width="18" height="18" viewBox="0 0 18 18">
                        <path fill="#4285F4" d="M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z"/>
                        <path fill="#34A853" d="M9 18c2.43 0 4.467-.806 5.956-2.184l-2.908-2.258c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332C2.438 15.983 5.482 18 9 18z"/>
                        <path fill="#FBBC05" d="M3.964 10.707c-.18-.54-.282-1.117-.282-1.707s.102-1.167.282-1.707V4.961H.957C.347 6.175 0 7.55 0 9s.348 2.825.957 4.039l3.007-2.332z"/>
                        <path fill="#EA4335" d="M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0 5.482 0 2.438 2.017.957 4.961L3.964 7.293C4.672 5.163 6.656 3.58 9 3.58z"/>
                    </svg>
                    ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡πâ‡∏ß‡∏¢ Google
                </button>
                
                <div class="toggle-form">
                    ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ? <a onclick="toggleForm()">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</a>
                </div>
            </div>

            <!-- Register Form -->
            <div id="registerForm" style="display: none;">
                <h2>üìù ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</h2>
                <p style="margin-bottom: 24px; color: #64748b;">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÉ‡∏´‡∏°‡πà</p>
                
                <div id="registerAlert"></div>
                
                <form onsubmit="handleRegister(event)">
                    <div class="form-group">
                        <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
                        <input type="text" id="registerName" class="form-control" required placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
                        <input type="email" id="registerEmail" class="form-control" required placeholder="example@bu.ac.th">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô/‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</label>
                        <input type="text" id="registerOrganization" class="form-control" placeholder="‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û">
                    </div>
                    
                    <button type="submit" class="btn btn-success" style="width: 100%; justify-content: center; margin-top: 16px;">
                        ‚ú® ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å
                    </button>
                </form>
                
                <div class="toggle-form" style="margin-top: 24px;">
                    ‡∏°‡∏µ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß? <a onclick="toggleForm()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Screen -->
    <div id="dashboardScreen">
        <div class="header">
            <div class="container">
                <div class="header-content">
                    <div>
                        <h1>üéØ SROI Calculator Dashboard</h1>
                        <div class="subtitle">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 16px;">
                        <span id="userNameDisplay" style="font-size: 0.9rem;"></span>
                        <button class="btn btn-danger" onclick="handleLogout()">üö™ ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="container dashboard-container" id="dashboardContainer">
            <div class="dashboard-header">
                <h2 class="dashboard-title">‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>
            </div>

            <div class="projects-grid" id="projectsGrid">
                <div class="project-card new-project-card" onclick="createNewProject()">
                    <div style="font-size: 3rem; margin-bottom: 16px;">‚ûï</div>
                    <div>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App Screen -->
    <div id="mainApp" class="main-app">
        <div class="header">
            <div class="container">
                <div class="header-content">
                    <div>
                        <a href="#" class="back-to-dashboard" onclick="backToDashboard(); return false;">
                            ‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å
                        </a>
                    </div>
                    <div style="flex: 1; text-align: center;">
                        <h1 id="projectTitle">‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà</h1>
                        <div class="subtitle" id="saveStatus">
                            <span id="saveStatusIcon">üíæ</span>
                            <span id="saveStatusText">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠: ‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢</span>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <button class="btn btn-success" onclick="saveAndBackToDashboard()" style="font-size: 0.9rem;">
                            üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡∏±‡∏ö
                        </button>
                        <span id="userNameDisplay2" style="font-size: 0.9rem;"></span>
                        <button class="btn btn-danger" onclick="handleLogout()">üö™ ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="app-card">
                <!-- Steps Navigation -->
                <div class="steps-nav">
                    <div class="step" onclick="goToStep(1)">
                        <div class="step-number">1</div>
                        <div class="step-title">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£</div>
                    </div>
                    <div class="step" onclick="goToStep(2)">
                        <div class="step-number">2</div>
                        <div class="step-title">‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏™‡πà‡∏ß‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏µ‡∏¢</div>
                    </div>
                    <div class="step" onclick="goToStep(3)">
                        <div class="step-number">3</div>
                        <div class="step-title">‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</div>
                    </div>
                    <div class="step" onclick="goToStep(4)">
                        <div class="step-number">4</div>
                        <div class="step-title">‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤</div>
                    </div>
                    <div class="step" onclick="goToStep(5)">
                        <div class="step-number">5</div>
                        <div class="step-title">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì SROI</div>
                    </div>
                    <div class="step" onclick="goToStep(6)">
                        <div class="step-number">6</div>
                        <div class="step-title">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</div>
                    </div>
                </div>

                <!-- Step 1: Project Information -->
                <div id="step1" class="step-content active">
                    <div class="step-header">
                        <h2 class="step-title-main">‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£</h2>
                        <p class="step-description">‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô</p>
                    </div>

                    <div class="section">
                        <h3 class="section-title">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</h3>
                        <div class="input-group">
                            <div class="form-group">
                                <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£ <span style="color: #ef4444;">*</span></label>
                                <input type="text" id="projectName" class="form-control" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô" onchange="saveProjectData()">
                            </div>
                            <div class="form-group">
                                <label class="form-label">‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</label>
                                <input type="text" id="organization" class="form-control" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û" onchange="saveProjectData()">
                            </div>
                        </div>

                        <div class="input-group">
                            <div class="form-group">
                                <label class="form-label">‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£ (‡∏õ‡∏µ) <span style="color: #ef4444;">*</span></label>
                                <input type="number" id="duration" class="form-control" placeholder="‡πÄ‡∏ä‡πà‡∏ô 3" min="1" onchange="saveProjectData()">
                            </div>
                            <div class="form-group">
                                <label class="form-label">‡∏õ‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£</label>
                                <input type="number" id="startYear" class="form-control" placeholder="‡πÄ‡∏ä‡πà‡∏ô 2025" min="2000" max="2100" onchange="saveProjectData()">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£</label>
                            <textarea id="objective" class="form-control" placeholder="‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£..." onchange="saveProjectData()"></textarea>
                        </div>
                    </div>

                    <div class="section">
                        <h3 class="section-title">‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô</h3>
                        <div class="form-group">
                            <label class="form-label">‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏ö‡∏≤‡∏ó) <span style="color: #ef4444;">*</span></label>
                            <input type="number" id="totalCost" class="form-control" placeholder="‡πÄ‡∏ä‡πà‡∏ô 1000000" min="0" onchange="saveProjectData()">
                            <small style="display: block; margin-top: 8px; color: #64748b;">
                                üí° ‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Ç‡∏≠‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£ (‡∏à‡∏∞‡∏ô‡∏≥‡πÑ‡∏õ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì SROI ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)
                            </small>
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button type="button" class="btn btn-primary" onclick="nextStep()">
                            ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ: ‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏™‡πà‡∏ß‡∏ô‡πÑ‡∏î‡πâ‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏™‡∏µ‡∏¢ ‚Üí
                        </button>
                    </div>
                </div>

                <!-- Step 2: Stakeholders -->
                <div id="step2" class="step-content">
                    <div class="step-header">
                        <h2 class="step-title-main">‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏™‡πà‡∏ß‡∏ô‡πÑ‡∏î‡πâ‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏™‡∏µ‡∏¢</h2>
                        <p class="step-description">‡∏£‡∏∞‡∏ö‡∏∏‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏à‡∏≤‡∏Å‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£</p>
                    </div>

                    <div class="section">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                            <h3 class="section-title" style="margin: 0;">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏™‡πà‡∏ß‡∏ô‡πÑ‡∏î‡πâ‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏™‡∏µ‡∏¢</h3>
                            <button type="button" class="btn btn-success" onclick="addStakeholder()">
                                ‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
                            </button>
                        </div>

                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏•‡∏∏‡πà‡∏°</th>
                                        <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô</th>
                                        <th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th>
                                        <th>‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢</th>
                                        <th style="width: 100px;">‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                                    </tr>
                                </thead>
                                <tbody id="stakeholderTableBody">
                                    <tr>
                                        <td colspan="5" style="text-align: center; padding: 40px; color: #94a3b8;">
                                            ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏Ñ‡∏•‡∏¥‡∏Å "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏°‡πà" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô)
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button type="button" class="btn btn-secondary" onclick="previousStep()">
                            ‚Üê ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö
                        </button>
                        <button type="button" class="btn btn-primary" onclick="nextStep()">
                            ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ: ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå ‚Üí
                        </button>
                    </div>
                </div>

                <!-- Step 3: Outcomes -->
                <div id="step3" class="step-content">
                    <div class="step-header">
                        <h2 class="step-title-main">‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</h2>
                        <p class="step-description">‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏™‡πà‡∏ß‡∏ô‡πÑ‡∏î‡πâ‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏™‡∏µ‡∏¢</p>
                    </div>

                    <div class="section">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                            <h3 class="section-title" style="margin: 0;">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</h3>
                            <button type="button" class="btn btn-success" onclick="addOutcome()">
                                ‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
                            </button>
                        </div>

                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏™‡πà‡∏ß‡∏ô‡πÑ‡∏î‡πâ‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏™‡∏µ‡∏¢</th>
                                        <th>‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</th>
                                        <th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th>
                                        <th>‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î</th>
                                        <th style="width: 100px;">‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                                    </tr>
                                </thead>
                                <tbody id="outcomeTableBody">
                                    <tr>
                                        <td colspan="5" style="text-align: center; padding: 40px; color: #94a3b8;">
                                            ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏Ñ‡∏•‡∏¥‡∏Å "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô)
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button type="button" class="btn btn-secondary" onclick="previousStep()">
                            ‚Üê ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö
                        </button>
                        <button type="button" class="btn btn-primary" onclick="nextStep()">
                            ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ: ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤ ‚Üí
                        </button>
                    </div>
                </div>

                <!-- Step 4: Valuation -->
                <div id="step4" class="step-content">
                    <div class="step-header">
                        <h2 class="step-title-main">‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤</h2>
                        <p class="step-description">‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏Ç‡∏≠‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</p>
                    </div>

                    <div class="section">
                        <h3 class="section-title">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤</h3>
                        <p style="color: #64748b; margin-bottom: 16px;">
                            ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏ô‡∏ß‡∏ô ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢ ‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Ñ‡∏á‡∏≠‡∏¢‡∏π‡πà
                        </p>

                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</th>
                                        <th>‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏•</th>
                                        <th style="width: 120px;">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
                                        <th style="width: 150px;">‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤/‡∏´‡∏ô‡πà‡∏ß‡∏¢ (‡∏ø)</th>
                                        <th style="width: 120px;">‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ (‡∏õ‡∏µ)</th>
                                        <th style="width: 150px;">‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏£‡∏ß‡∏° (‡∏ø)</th>
                                    </tr>
                                </thead>
                                <tbody id="valuationTableBody">
                                    <tr>
                                        <td colspan="6" style="text-align: center; padding: 40px; color: #94a3b8;">
                                            ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÉ‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3)
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button type="button" class="btn btn-secondary" onclick="previousStep()">
                            ‚Üê ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö
                        </button>
                        <button type="button" class="btn btn-primary" onclick="nextStep()">
                            ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ: ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì SROI ‚Üí
                        </button>
                    </div>
                </div>

                <!-- Step 5: Calculate SROI -->
                <div id="step5" class="step-content">
                    <div class="step-header">
                        <h2 class="step-title-main">‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 5: ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì SROI</h2>
                        <p class="step-description">‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ú‡∏•‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏±‡∏á‡∏Ñ‡∏°</p>
                    </div>

                    <!-- Discount Rate Section -->
                    <div class="section" style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);">
                        <h3 class="section-title" style="color: #92400e;">
                            üí∞ ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Ñ‡∏¥‡∏î‡∏•‡∏î (Discount Rate)
                        </h3>
                        <p style="color: #78350f; margin-bottom: 16px;">
                            ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏™‡∏∏‡∏ó‡∏ò‡∏¥ (NPV) ‡∏Ç‡∏≠‡∏á‡∏ú‡∏•‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡πÅ‡∏•‡∏∞‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô
                        </p>
                        <div class="form-group">
                            <label class="form-label" style="color: #78350f;">
                                Discount Rate (%) <span style="color: #ef4444;">*</span>
                            </label>
                            <input 
                                type="number" 
                                id="discountRate" 
                                class="form-control" 
                                placeholder="‡πÄ‡∏ä‡πà‡∏ô 3.5" 
                                step="0.1" 
                                min="0" 
                                max="100"
                                value="3.5"
                                onchange="saveProjectData()">
                            <small style="display: block; margin-top: 8px; color: #78350f;">
                                üí° ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: 3-5% ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≤‡∏á‡∏™‡∏±‡∏á‡∏Ñ‡∏°
                            </small>
                        </div>
                    </div>

                    <!-- Cost Summary -->
                    <div class="section">
                        <h3 class="section-title">‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£</h3>
                        <div class="stat-card" style="border-left-color: #ef4444;">
                            <div class="stat-value" style="color: #ef4444;" id="displayCost">‡∏ø 0</div>
                            <div class="stat-label">‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏à‡∏≤‡∏Å Step 1)</div>
                        </div>
                    </div>

                    <!-- Adjustment Factors -->
                    <div class="section">
                        <h3 class="section-title">‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤ (Adjustment Factors)</h3>
                        <p style="color: #64748b; margin-bottom: 16px;">
                            ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå (0-100) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏±‡∏ö‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÉ‡∏´‡πâ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥
                        </p>

                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</th>
                                        <th>Deadweight (%)</th>
                                        <th>Attribution (%)</th>
                                        <th>Displacement (%)</th>
                                        <th>Drop-off (%/‡∏õ‡∏µ)</th>
                                    </tr>
                                </thead>
                                <tbody id="adjustmentTableBody">
                                    <tr>
                                        <td colspan="5" style="text-align: center; padding: 40px; color: #94a3b8;">
                                            ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div style="background: #fef3c7; padding: 16px; border-radius: 8px; margin-top: 16px;">
                            <strong style="color: #92400e;">‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:</strong>
                            <ul style="margin-top: 8px; color: #78350f; padding-left: 20px;">
                                <li><strong>Deadweight:</strong> ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏°‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£</li>
                                <li><strong>Attribution:</strong> ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏≠‡∏∑‡πà‡∏ô ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß</li>
                                <li><strong>Displacement:</strong> ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏•‡∏ö‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏∑‡πà‡∏ô</li>
                                <li><strong>Drop-off:</strong> ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡∏•‡∏î‡∏•‡∏á‡∏Ç‡∏≠‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏µ</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Calculate Button -->
                    <div style="text-align: center; margin: 32px 0;">
                        <button type="button" class="btn btn-success" onclick="calculateSROI()" style="font-size: 1.2rem; padding: 16px 48px;">
                            üßÆ ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì SROI
                        </button>
                    </div>

                    <!-- Results Section (Hidden until calculated) -->
                    <div id="resultsSection" style="display: none;">
                        <div class="result-card">
                            <div class="result-label">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏ß‡∏ô SROI</div>
                            <div class="result-value" id="sroiRatio">-</div>
                            <p style="opacity: 0.9; font-size: 1rem;">‡∏ó‡∏∏‡∏Å 1 ‡∏ö‡∏≤‡∏ó‡∏ó‡∏µ‡πà‡∏•‡∏á‡∏ó‡∏∏‡∏ô ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏ó‡∏≤‡∏á‡∏™‡∏±‡∏á‡∏Ñ‡∏° <span id="sroiValue">-</span> ‡∏ö‡∏≤‡∏ó</p>
                        </div>

                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-value" id="totalBenefitNPV">‡∏ø 0</div>
                                <div class="stat-label">‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏ú‡∏•‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå</div>
                            </div>
                            <div class="stat-card" style="border-left-color: #ef4444;">
                                <div class="stat-value" style="color: #ef4444;" id="totalCostNPV">‡∏ø 0</div>
                                <div class="stat-label">‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô</div>
                            </div>
                            <div class="stat-card" style="border-left-color: #10b981;">
                                <div class="stat-value" style="color: #10b981;" id="netBenefit">‡∏ø 0</div>
                                <div class="stat-label">‡∏ú‡∏•‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡∏™‡∏∏‡∏ó‡∏ò‡∏¥ (NPV)</div>
                            </div>
                            <div class="stat-card" style="border-left-color: #f59e0b;">
                                <div class="stat-value" style="color: #f59e0b;" id="paybackPeriod">- ‡∏õ‡∏µ</div>
                                <div class="stat-label">‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏Ñ‡∏∑‡∏ô‡∏ó‡∏∏‡∏ô</div>
                            </div>
                        </div>

                        <!-- Summary Table -->
                        <div class="section">
                            <h3 class="section-title">‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</h3>
                            <div class="table-container">
                                <table style="font-size: 0.9rem;">
                                    <thead>
                                        <tr>
                                            <th>‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</th>
                                            <th style="text-align: right;">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
                                            <th style="text-align: right;">‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤/‡∏´‡∏ô‡πà‡∏ß‡∏¢</th>
                                            <th style="text-align: right;">‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</th>
                                            <th style="text-align: center;">Deadweight</th>
                                            <th style="text-align: center;">Attribution</th>
                                            <th style="text-align: center;">Displacement</th>
                                            <th style="text-align: right;">‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏™‡∏∏‡∏ó‡∏ò‡∏¥</th>
                                            <th style="text-align: right;">NPV</th>
                                        </tr>
                                    </thead>
                                    <tbody id="summaryTableBody">
                                        <tr>
                                            <td colspan="9" style="text-align: center; padding: 40px; color: #94a3b8;">
                                                ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì SROI"
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Chart -->
                        <div class="section">
                            <h3 class="section-title">‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏™‡∏î‡∏á‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</h3>
                            <div class="chart-container">
                                <canvas id="sroiChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button type="button" class="btn btn-secondary" onclick="previousStep()">
                            ‚Üê ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö
                        </button>
                        <button type="button" class="btn btn-success" onclick="nextStep()">
                            ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ‚Üí
                        </button>
                    </div>
                </div>

                <!-- Step 6: Generate Report -->
                <div id="step6" class="step-content">
                    <div class="step-header">
                        <h2 class="step-title-main">‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 6: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</h2>
                        <p class="step-description">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô SROI ‡πÅ‡∏ö‡∏ö‡πÄ‡∏ï‡πá‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö</p>
                    </div>
                    
                    <div class="section">
                        <h3 class="section-title">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏à‡∏∞‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢</h3>
                        <ul style="line-height: 2;">
                            <li>1. ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</li>
                            <li>2. ‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏™‡πà‡∏ß‡∏ô‡πÑ‡∏î‡πâ‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡πÅ‡∏•‡∏∞‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</li>
                            <li>3. ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö (Impact Map)</li>
                            <li>4. ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÅ‡∏•‡∏∞‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤</li>
                            <li>5. ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì SROI</li>
                            <li>6. ‡πÅ‡∏ú‡∏ô‡∏†‡∏π‡∏°‡∏¥‡πÅ‡∏•‡∏∞‡∏Å‡∏£‡∏≤‡∏ü‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</li>
                            <li>7. ‡∏™‡∏£‡∏∏‡∏õ‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞</li>
                        </ul>
                    </div>
                    
                    <div class="section" style="text-align: center;">
                        <button type="button" class="btn btn-success" onclick="generatePDF()" style="font-size: 1.2rem; padding: 16px 48px;">
                            üìÑ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô PDF
                        </button>
                        <p style="margin-top: 16px; color: #64748b;">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏ü‡∏•‡πå PDF</p>
                    </div>

                    <div class="action-buttons">
                        <button type="button" class="btn btn-secondary" onclick="previousStep()">
                            ‚Üê ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö
                        </button>
                        <button type="button" class="btn btn-success" onclick="saveAndBackToDashboard()" style="margin-left: auto;">
                            üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal: Add Stakeholder -->
    <div id="stakeholderModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏™‡πà‡∏ß‡∏ô‡πÑ‡∏î‡πâ‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏™‡∏µ‡∏¢</h2>
                <button class="close-modal" onclick="closeModal('stakeholderModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="stakeholderForm">
                    <div class="modal-form-group">
                        <label for="stakeholderName">‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏•‡∏∏‡πà‡∏° <span style="color: #ef4444;">*</span></label>
                        <input type="text" id="stakeholderName" required placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏î‡πá‡∏Å‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô, ‡∏Ñ‡∏£‡∏π, ‡∏ä‡∏∏‡∏°‡∏ä‡∏ô">
                    </div>
                    
                    <div class="modal-form-group">
                        <label for="stakeholderCount">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô <span style="color: #ef4444;">*</span></label>
                        <input type="number" id="stakeholderCount" required min="1" placeholder="‡πÄ‡∏ä‡πà‡∏ô 100">
                        <small>‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏à‡∏≤‡∏Å‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£</small>
                    </div>
                    
                    <div class="modal-form-group">
                        <label for="stakeholderType">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó <span style="color: #ef4444;">*</span></label>
                        <select id="stakeholderType" required>
                            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó --</option>
                            <option value="‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏•‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á">‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏•‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á</option>
                            <option value="‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ó‡∏≤‡∏á‡∏≠‡πâ‡∏≠‡∏°">‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ó‡∏≤‡∏á‡∏≠‡πâ‡∏≠‡∏°</option>
                            <option value="‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏™‡πà‡∏ß‡∏ô‡∏£‡πà‡∏ß‡∏°">‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏™‡πà‡∏ß‡∏ô‡∏£‡πà‡∏ß‡∏°</option>
                            <option value="‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏†‡∏≤‡∏Ñ‡∏£‡∏±‡∏ê">‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏†‡∏≤‡∏Ñ‡∏£‡∏±‡∏ê</option>
                            <option value="‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡∏†‡∏≤‡∏Ñ‡πÄ‡∏≠‡∏Å‡∏ä‡∏ô">‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡∏†‡∏≤‡∏Ñ‡πÄ‡∏≠‡∏Å‡∏ä‡∏ô</option>
                            <option value="‡∏≠‡∏∑‡πà‡∏ô‡πÜ">‡∏≠‡∏∑‡πà‡∏ô‡πÜ</option>
                        </select>
                    </div>
                    
                    <div class="modal-form-group">
                        <label for="stakeholderDescription">‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢</label>
                        <textarea id="stakeholderDescription" placeholder="‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ô‡∏µ‡πâ..."></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeModal('stakeholderModal')">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button type="button" class="btn btn-success" onclick="saveStakeholder()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            </div>
        </div>
    </div>

    <!-- Modal: Add Outcome -->
    <div id="outcomeModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</h2>
                <button class="close-modal" onclick="closeModal('outcomeModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="outcomeForm">
                    <div class="modal-form-group">
                        <label for="outcomeStakeholder">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏™‡πà‡∏ß‡∏ô‡πÑ‡∏î‡πâ‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏™‡∏µ‡∏¢ <span style="color: #ef4444;">*</span></label>
                        <select id="outcomeStakeholder" required>
                            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏•‡∏∏‡πà‡∏° --</option>
                        </select>
                    </div>
                    
                    <div class="modal-form-group">
                        <label for="outcomeName">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå <span style="color: #ef4444;">*</span></label>
                        <input type="text" id="outcomeName" required placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô">
                    </div>
                    
                    <div class="modal-form-group">
                        <label for="outcomeType">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö <span style="color: #ef4444;">*</span></label>
                        <select id="outcomeType" required>
                            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó --</option>
                            <option value="‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡πÄ‡∏ä‡∏¥‡∏á‡∏ö‡∏ß‡∏Å">‚úÖ ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡πÄ‡∏ä‡∏¥‡∏á‡∏ö‡∏ß‡∏Å</option>
                            <option value="‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏ö">‚ö†Ô∏è ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏ö</option>
                        </select>
                    </div>
                    
                    <div class="modal-form-group">
                        <label for="outcomeIndicator">‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î <span style="color: #ef4444;">*</span></label>
                        <input type="text" id="outcomeIndicator" required placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô 20%">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeModal('outcomeModal')">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button type="button" class="btn btn-success" onclick="saveOutcome()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <!-- Firebase SDK -->
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-app.js";
      import { getAuth } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-auth.js";
      import { getFirestore } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-firestore.js";
      
      const firebaseConfig = {
        apiKey: "AIzaSyC-r39KHKkmOZW5xjmNRiKrmPnSWeC9Xrg",
        authDomain: "sroi-bu.firebaseapp.com",
        projectId: "sroi-bu",
        storageBucket: "sroi-bu.firebasestorage.app",
        messagingSenderId: "467289509127",
        appId: "1:467289509127:web:afc1a93643cbddce0849a2"
      };
      
      window.firebaseApp = initializeApp(firebaseConfig);
      window.auth = getAuth(window.firebaseApp);
      window.db = getFirestore(window.firebaseApp);
      
      console.log('‚úÖ Firebase initialized successfully');
      window.dispatchEvent(new Event('firebaseReady'));
    </script>
    
    <!-- Main App Script -->
    <script src="app.js"></script>
</body>
</html>
